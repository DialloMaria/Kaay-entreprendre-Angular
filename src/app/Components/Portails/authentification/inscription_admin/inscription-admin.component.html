<!-- Modal Background -->
<div class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50">
  <!-- Modal Content -->
  <div class="bg-white rounded-2xl shadow-lg p-10 w-full max-w-4xl mx-4 md:mx-auto">
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold text-gray-700">Ajout un Administrateur</h2>
      <i class="fas fa-times cursor-pointer text-2xl" (click)="closeAdminModal()"></i>
    </div>

    <form (ngSubmit)="registerAdmin()" [formGroup]="registrationForm" class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Left Column -->
      <div class="space-y-4">
        <label for="nom" class="sr-only">Nom</label>
        <input
          id="nom"
          type="text"
          formControlName="nom"
          placeholder="Nom"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('nom')!.invalid && registrationForm.get('nom')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('nom')!.valid || registrationForm.get('nom')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('nom')!.invalid && registrationForm.get('nom')!.touched" class="text-red-500 text-sm">
          Le nom est requis.
        </div>

        <label for="prenom" class="sr-only">Prenom</label>
        <input
          id="prenom"
          type="text"
          formControlName="prenom"
          placeholder="Prenom"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('prenom')!.invalid && registrationForm.get('prenom')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('prenom')!.valid || registrationForm.get('prenom')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('prenom')!.invalid && registrationForm.get('prenom')!.touched" class="text-red-500 text-sm">
          Le prénom est requis.
        </div>

        <label for="adresse" class="sr-only">Adresse</label>
        <input
          id="adresse"
          type="text"
          formControlName="adresse"
          placeholder="Adresse"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('adresse')!.invalid && registrationForm.get('adresse')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('adresse')!.valid || registrationForm.get('adresse')!.untouched
          }"
        />
<div *ngIf="registrationForm && registrationForm.get('adresse')! && registrationForm.get('adresse')!.invalid && registrationForm.get('adresse')!.touched" class="text-red-500 text-sm">
          L'adresse est requise.
        </div>

        <label for="telephone" class="sr-only">Téléphone</label>
        <input
          id="telephone"
          type="tel"
          formControlName="telephone"
          placeholder="Téléphone"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('telephone')!.invalid && registrationForm.get('telephone')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('telephone')!.valid || registrationForm.get('telephone')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('telephone')!.invalid && registrationForm.get('telephone')!.touched" class="text-red-500 text-sm">
          Le numéro de téléphone est requis.
        </div>
      </div>

      <!-- Right Column -->
      <div class="space-y-4">
        <label for="specialisation" class="sr-only">Spécialisation</label>
        <select
          id="specialisation"
          formControlName="specialisation"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('specialisation')!.invalid && registrationForm.get('specialisation')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('specialisation')!.valid || registrationForm.get('specialisation')!.untouched
          }"
        >
          <option value="">Choisir une spécialisation</option>
          <option *ngFor="let domaine of domaines" [value]="domaine.nom">{{ domaine.nom }}</option>
        </select>
        <div *ngIf="registrationForm.get('specialisation')!.invalid && registrationForm.get('specialisation')!.touched" class="text-red-500 text-sm">
          La spécialisation est requise.
        </div>

        <label for="biographie" class="sr-only">Biographie</label>
        <input
          id="biographie"
          type="text"
          formControlName="biographie"
          placeholder="Biographie"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('biographie')!.invalid && registrationForm.get('biographie')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('biographie')!.valid || registrationForm.get('biographie')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('biographie')!.invalid && registrationForm.get('biographie')!.touched" class="text-red-500 text-sm">
          La biographie est requise.
        </div>

        <label for="email" class="sr-only">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          placeholder="Email"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('email')!.invalid && registrationForm.get('email')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('email')!.valid || registrationForm.get('email')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('email')!.invalid && registrationForm.get('email')!.touched" class="text-red-500 text-sm">
          Un email valide est requis.
        </div>

        <label for="password" class="sr-only">Mot de passe</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Mot de passe"
          class="w-full px-8 py-3 rounded-lg bg-gray-100 border placeholder-gray-500 text-sm focus:outline-none focus:bg-white"
          [ngClass]="{
            'border-red-500': registrationForm.get('password')!.invalid && registrationForm.get('password')!.touched,
            'border-green-200 focus:border-green-400': registrationForm.get('password')!.valid || registrationForm.get('password')!.untouched
          }"
        />
        <div *ngIf="registrationForm.get('password')!.invalid && registrationForm.get('password')!.touched" class="text-red-500 text-sm">
          Un mot de passe est requis.
        </div>
      </div>

      <!-- Submit Button -->
      <div class="md:col-span-2">
        <button
          type="submit"
          [disabled]="registrationForm.invalid"
          class="w-full py-3 rounded-lg font-semibold bg-[#007461] text-gray-100 hover:bg-[#07a88d] transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none"
        >
          <svg class="w-6 h-6 -ml-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" />
            <circle cx="8.5" cy="7" r="4" />
            <path d="M20 8v6M23 11h-6" />
          </svg>
          <span class="ml-3">Inscription</span>
        </button>
      </div>
    </form>
  </div>
</div>
